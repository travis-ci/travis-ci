h1. Travis - a distributed build system "!https://secure.travis-ci.org/travis-ci/travis-ci.png?branch=master!":http://travis-ci.org/travis-ci/travis-ci

Travis is an attempt to create an open-source, distributed build system for the Ruby community that:

1. allows open-source projects to register their repository and have their test-suites run on demand
2. allows users to contribute build capacities by connecting a VM that runs a build agent somewhere on their underused servers

h2. Contact
* "Github":http://github.com/travis-ci
* "Twitter":http://twitter.com/travisci
* "IRC":irc://irc.freenode.net#travis
* "Mailinglist":http://groups.google.com/group/travis-ci

h2. User Documentation

* "Getting started":http://about.travis-ci.org/docs/user/getting-started
* "Build Configuration":http://about.travis-ci.org/docs/user/build-configuration
* "Status Images":http://about.travis-ci.org/docs/user/status-images


h2. Overview

Travis consists of several parts:

* A Sprout Core-based single-page application that runs client side.
* A Rails 3 application that serves to the in-browser application and takes pings from Github.
* A JRuby-based "AMQP":http://bit.ly/amqp-model-explained worker for running a project's test suite in snapshotted virtual machines.
* A websocket server (we use "Pusher":http://pusher.com) for tailing build results to the browser.
* A JRuby-based AMQP daemon that collects build reports, workers state, propagates them to Pusher, delivers notifications and so on.
* Tools that provision CI environment (to provide databases, RabbitMQ, Rubies/JDK/Node.js versions and so on) and build VM images.

All these applications, tools and libraries are hosted under "Travis CI github organization":https://github.com/travis-ci.

You can also watch this (old but still valid) screencast to get an idea: "1:20 quick demo screencast (spike 2)":http://www.youtube.com/watch?v=mNOwCJhjWAw


h2. Goals

With Travis CI our vision is to become for builds (i.e. tests, for starters) what rubygems.org is for gems.
Our goal is to build a rock solid, but dead-easy to use open-source continuous integration service for the open source community.

We try to follow the 80/20 for requirements. I.e. we focus on the most common use cases.

Travis CI does **not** currently support closed in-house installations, although we know of people doing this.
Ask on the "IRC channel":irc://irc.freenode.net#travis for more information.


h2. Running the tests

Integration tests are implemented using "Jasmine":http://pivotal.github.com/jasmine and can be run in the browser:

<pre>
$ RAILS_ENV=jasmine rake db:migrate db:seed
$ rails s thin -e jasmine
$ open http://localhost:3000
</pre>

To run the whole test suite simply do:

<pre>
$ rake spec
</pre>

h2. Development

Setup is pretty easy. You need to execute 4 steps:

<pre>
$ bundle
$ bundle exec rake travis:setup:config
</pre>

This will create two files: <code>./config/travis.yml</code> and <code>./config/database.yml</code>. Edit these files according to your local configuration.

Travis CI is configured to authenticate with OAuth and github. You'll need to "register your application with github":https://github.com/account/applications/new (even if it's only for local development) and complete all the required fields in <code>./config/travis.yml</code> for your ID and secret.

Next, tell Travis to configure the database:

<pre>
$ bundle exec rake travis:setup
</pre>

And finally start the server:

<pre>
$ bundle exec foreman start
</pre>

Note that you always start the server using <code>foreman</code>, not <code>unicorn</code> or <code>webrick</code>

Travis CI is now up & running on **http://localhost:5000**

You can also create a default admin user (optional):

<pre>
$ rake travis:create_admin_user
</pre>

Application is now up & running on **http://localhost:5000**

h2. Dependency Status

"!https://gemnasium.com/travis-ci/travis-ci.png?travis!":https://gemnasium.com/travis-ci/travis-ci

h2. Design Iterations

* "Second design Feb 2010":https://skitch.com/svenfuchs/rtfas/travis.2
* "First design Jan 2010":https://skitch.com/svenfuchs/rtms3/travis-design-1-2010-02
* Initial mockups of "index":https://github.com/travis-ci/travis-ci/raw/master/docs/mockups/main.png and "details":https://github.com/travis-ci/travis-ci/raw/master/docs/mockups/build_details.png


h2. Developer Documentation

* "The worker":http://about.travis-ci.org/docs/dev/worker/

h2. Other sources

* "Travis CI":http://bostonrb.org/presentations/travis-ci - Video: Presentation at Boston.rb ("Jeremy Weisskotten":https://twitter.com/#!/doctorzaius)
* "Travis - a distributed build server tool for the Ruby community":http://svenfuchs.com/2011/2/5/travis-a-distributed-build-server-tool-for-the-ruby-community - Introductory blog post about the original idea ("Sven Fuchs":http://svenfuchs.com)


h2. Requirements

* Ruby 1.9.2 (Ruby 1.9.1 is not supported)
* PostgreSQL for the pg gem
* RabbitMQ
* VirtualBox 4.1
